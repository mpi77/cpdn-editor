<h2 class="cpdn-heading">
	<div class="btn-group left" role="group">
		<button type="button" class="btn btn-default" ng-click="back()">
			<i class="fa fa-chevron-left"></i>
		</button>
	</div>
	Map Point {{ pointBoxTitle }}
	<div class="btn-group right" role="group">
		<button type="button" class="btn btn-info" ng-click="showSchemeInfo()"><i class="fa fa-info"></i></button>
		<button type="button" class="btn btn-primary" ng-click="refresh()"><i class="fa fa-refresh"></i></button>
	</div>
</h2>

<div class="panel panel-default" ng-if="config.showSchemeInfo">
    <div class="panel-heading">Scheme info</div>
    <div class="panel-body">
	    <div class="col-xs-12 col-sm-12 col-md-12">
			<div class="col-xs-6 col-sm-4 col-md-4">ID</div>
		  	<div class="col-xs-6 col-sm-8 col-md-8"><b>{{ scheme.id }}</b></div>
		</div>
		<div class="col-xs-12 col-sm-12 col-md-12">
			<div class="col-xs-6 col-sm-4 col-md-4">Name</div>
		  	<div class="col-xs-6 col-sm-8 col-md-8"><b>{{ scheme.name }}</b></div>
		</div>
		<div class="col-xs-12 col-sm-12 col-md-12">
			<div class="col-xs-6 col-sm-4 col-md-4">Description</div>
		  	<div class="col-xs-6 col-sm-8 col-md-8"><b>{{ scheme.description }}</b></div>
		</div>
		<div class="col-xs-12 col-sm-12 col-md-12">
			<div class="col-xs-6 col-sm-4 col-md-4">Version</div>
		  	<div class="col-xs-6 col-sm-8 col-md-8"><b>{{ scheme.version }}</b></div>
		</div>
		<div class="col-xs-12 col-sm-12 col-md-12">
			<div class="col-xs-6 col-sm-4 col-md-4">Lock</div>
		  	<div class="col-xs-6 col-sm-8 col-md-8"><b ng-if="scheme.lock">yes</b><b ng-if="!scheme.lock">no</b></div>
		</div>
		<div class="col-xs-12 col-sm-12 col-md-12">
			<div class="col-xs-6 col-sm-4 col-md-4">Has W permission</div>
		  	<div class="col-xs-6 col-sm-8 col-md-8"><b ng-if="scheme.isWritable">yes</b><b ng-if="!scheme.isWritable">no</b></div>
		</div>
  </div>
</div>

<div class="row">
<div class="col-md-4"></div>
<div class="col-md-4">
	<form method="post" role="form" name="pointForm" ng-submit="submit()">
	    <div class="panel panel-default">
            <div class="panel-heading">
                <h3 class="panel-title">{{ userBoxTitle }}</h3>
            </div>
            <div class="panel-body">
                <div class="form-group" ng-class="(!scheme.lock) ? (pointForm.x.$valid ? 'has-success' : 'has-error') : ''">
					<label class="control-label" for="x">X</label>
				    <input type="text" id="x" name="x" value="" class="form-control" placeholder="X" ng-model="point.x" ng-pattern="/^\d+$/" ng-disabled="scheme.lock" required autofocus />
				</div>
				<div class="form-group" ng-class="(!scheme.lock) ? (pointForm.y.$valid ? 'has-success' : 'has-error') : ''">
					<label class="control-label" for="y">Y</label>
				    <input type="text" id="y" name="y" value="" class="form-control" placeholder="Y" ng-model="point.y" ng-pattern="/^\d+$/" ng-disabled="scheme.lock" required autofocus />
				</div>
				<div class="form-group" ng-class="(!scheme.lock) ? (pointForm.gpsAlt.$valid ? 'has-success' : 'has-error') : ''">
					<label class="control-label" for="gpsAlt">GPS altitude</label>
				    <input type="text" id="gpsAlt" name="gpsAlt" value="" class="form-control" placeholder="GPS altitude" ng-model="point.gps.altitude" ng-pattern="/(^[+-]?\d*\.\d+$)|(^[+-]?\d+$)/" ng-disabled="scheme.lock" autofocus />
				</div>
				<div class="form-group" ng-class="(!scheme.lock) ? (pointForm.gpsLat.$valid ? 'has-success' : 'has-error') : ''">
					<label class="control-label" for="gpsLat">GPS latitude</label>
				    <input type="text" id="gpsLat" name="gpsLat" value="" class="form-control" placeholder="GPS latitude" ng-model="point.gps.latitude" ng-pattern="/(^[+-]?\d*\.\d+$)|(^[+-]?\d+$)/" ng-disabled="scheme.lock" autofocus />
				</div>
				<div class="form-group" ng-class="(!scheme.lock) ? (pointForm.gpsLng.$valid ? 'has-success' : 'has-error') : ''">
					<label class="control-label" for="gpsLng">GPS longitude</label>
				    <input type="text" id="gpsLng" name="gpsLng" value="" class="form-control" placeholder="GPS longitude" ng-model="point.gps.longitude" ng-pattern="/(^[+-]?\d*\.\d+$)|(^[+-]?\d+$)/" ng-disabled="scheme.lock" autofocus />
				</div>
            </div>
            <div class="panel-footer">
                <div class="row">
                    <div class="col-md-12">
                        <a href="" class="btn btn-default  pull-left" ng-click="cancel()"><i class="fa fa-times"></i>&nbsp;&nbsp;Cancel</a>
			            <button type="submit" class="btn btn-primary pull-right" ng-disabled="!(pointForm.$valid && !scheme.lock)"><i class="fa fa-arrow-circle-right"></i>&nbsp;Send</button>
			        </div>
			    </div>
            </div>
        </div>
	</form>
</div>
<div class="col-md-4"></div>
</div>
